# NotoriousBOT

Notorious B.O.T. is a chat bot built on the [Hubot](https://hubot.github.com/hubot) framework. It was initially generated by `generator-hubot`, and configured to be deployed on [Heroku](http://heroku.com/).

## Scripting (plugins)

### NPM and external scripts

There is a [Hubot Scripts org](https://github.com/hubot-scripts) with tons of existing scripts.

1. Install with npm: `npm install hubot-shipit --save`
1. Add `"hubot-shipit"` to the array in `external-scripts.json`

### Writing your own

Custom scripts go in the `scripts` folder.  They don't have to be written in CoffeeScript.  An example script is included at `scripts/example.coffee`, so check it out to get started, along with the [Scripting Guide](https://github.com/github/hubot/blob/master/docs/scripting.md).

1. Write new script, such as `scripts/awesome.coffee`
1. Add `awesome` to `hubot-scripts.json` ??

## Configure

The following environmental variables are needed:

    export REDISTOGO_URL=XXX
    export HUBOT_SLACK_TOKEN=XXXX
    export HUBOT_HEROKU_KEEPALIVE_URL=$(heroku apps:info -s  | grep web_url | cut -d= -f2)

## Running locally

You can start NotoriousBOT locally by running:

    bin/hubot -n NotoriousBOT -a slack

You'll see some start up output about where your scripts come from and a
prompt:

    [Sun, 04 Dec 2011 18:41:11 GMT] INFO Loading adapter shell
    [Sun, 04 Dec 2011 18:41:11 GMT] INFO Loading scripts from /home/tomb/Development/hubot/scripts
    [Sun, 04 Dec 2011 18:41:11 GMT] INFO Loading scripts from /home/tomb/Development/hubot/src/scripts
    Hubot>

Then you can interact with NotoriousBOT by typing `NotoriousBOT help`.

    NotoriousBOT> NotoriousBOT help

    NotoriousBOT> animate me <query> - The same thing as `image me`, except adds a few
    convert me <expression> to <units> - Convert expression to given units.
    help - Displays all of the help commands that Hubot knows about.
    ...

## Deployment

This should already be done

    heroku create --stack cedar
    git push heroku master

If your Heroku account has been verified you can run the following to enable
and add the Redis to Go addon to your app.

    heroku addons:add redistogo:nano

### Updating

If adding new scripts with new configuration, you will need to send to Heroku.

    heroku config:set NEWTHING=XXXXXX
    heroku config:set HUBOT_HEROKU_KEEPALIVE_URL=$(heroku apps:info -s  | grep web_url | cut -d= -f2)
    heroku restart
